"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[215],{215:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),o=n(791),c=n(87),i=n(689),u=n(861),a=n(757),s=n.n(a),l=n(243),f="https://api.themoviedb.org/3/search/movie?",h={api_key:"2ffe18644d276784f1ed0436b355498e",page:1};function v(){return(v=(0,u.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.query=t.toLowerCase().trim(),console.log(h),n=new URLSearchParams(h),e.prev=3,e.next=6,l.Z.get("".concat(f).concat(n));case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var p=function(e){return v.apply(this,arguments)},d=n(184);var m=function(){var e,t=(0,c.lr)(),n=(0,r.Z)(t,2),u=n[0],a=n[1],s=null!==(e=u.get("movieTitle"))&&void 0!==e?e:"",l=(0,o.useState)([]),f=(0,r.Z)(l,2),h=f[0],v=f[1],m=(0,i.TH)();return(0,o.useEffect)((function(){0!==s.length&&p(s).then((function(e){v(e.data.results)})).catch((function(e){console.log(e.message)}))}),[s]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(e),a({movie_title:e.target[0].value})},children:[(0,d.jsx)("label",{children:(0,d.jsx)("input",{type:"text"})}),(0,d.jsx)("button",{type:"submit",children:"Search"})]}),(0,d.jsx)("ul",{children:h.map((function(e){var t=e.title,n=e.id;return(0,d.jsx)("li",{children:(0,d.jsx)(c.rU,{to:"".concat(n),state:{from:m},children:t})},n)}))})]})}},861:function(e,t,n){function r(e,t,n,r,o,c,i){try{var u=e[c](i),a=u.value}catch(s){return void n(s)}u.done?t(a):Promise.resolve(a).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,c){var i=e.apply(t,n);function u(e){r(i,o,c,u,a,"next",e)}function a(e){r(i,o,c,u,a,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=215.803fa4d2.chunk.js.map