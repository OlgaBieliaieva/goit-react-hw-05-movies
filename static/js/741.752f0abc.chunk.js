"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[741],{7741:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var s=n(9439),r=n(2791),o=n(1087),a=n(7689),c=n(5861),i=n(7757),u=n.n(i),l=n(1243),h="https://api.themoviedb.org/3/search/movie?",f={api_key:"2ffe18644d276784f1ed0436b355498e",page:1};function v(){return(v=(0,c.Z)(u().mark((function e(t){var n,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.query=t.toLowerCase().trim(),console.log(f),n=new URLSearchParams(f),e.prev=3,e.next=6,l.Z.get("".concat(h).concat(n));case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var _=function(e){return v.apply(this,arguments)},p="Movies_pageContainer__fVQLq",m="Movies_search__Lis1s",d="Movies_searchField__VVuRR",g="Movies_searchButton__I-A1L",x="Movies_error__MUEG+",j="Movies_moviesList__Rop+n",w="Movies_link__koirl",b=n(184);var k=function(){var e,t=(0,o.lr)(),n=(0,s.Z)(t,2),c=n[0],i=n[1],u=null!==(e=c.get("movie_title"))&&void 0!==e?e:"",l=(0,r.useState)([]),h=(0,s.Z)(l,2),f=h[0],v=h[1],k=(0,r.useState)(""),y=(0,s.Z)(k,2),M=y[0],N=y[1],Z=(0,r.useState)(""),L=(0,s.Z)(Z,2),R=L[0],S=L[1],C=(0,a.TH)();return(0,r.useEffect)((function(){0!==u.length&&_(u).then((function(e){console.log(e),v(e.data.results),S(e.status)})).catch((function(e){N(e.message)}))}),[u]),console.log(R),(0,b.jsxs)("main",{className:p,children:[(0,b.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(e),i({movie_title:e.target[0].value})},children:[(0,b.jsx)("label",{children:(0,b.jsx)("input",{className:d,type:"text",placeholder:"start searching"})}),(0,b.jsx)("button",{className:g,type:"submit",children:"Search"})]}),M&&(0,b.jsx)("p",{className:x,children:"Results not found"}),200===R&&0===f.length&&(0,b.jsx)("p",{className:x,children:"Results not found"}),(0,b.jsx)("ul",{className:j,children:f.map((function(e){var t=e.title,n=e.id;return(0,b.jsx)("li",{className:w,children:(0,b.jsx)(o.rU,{to:"".concat(n),state:{from:C},children:t})},n)}))})]})}},5861:function(e,t,n){function s(e,t,n,s,r,o,a){try{var c=e[o](a),i=c.value}catch(u){return void n(u)}c.done?t(i):Promise.resolve(i).then(s,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){s(a,r,o,c,i,"next",e)}function i(e){s(a,r,o,c,i,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=741.752f0abc.chunk.js.map